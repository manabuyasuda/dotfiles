# gh-notify

コマンドラインからGitHubの通知を表示・管理するgh拡張機能。fzfがあればインタラクティブに操作でき、通知の既読化・ブラウザで開く・diff表示などをキーバインドで実行できる。

## インストール

```bash
gh extension install meiji163/gh-notify
```

`gh/extensions` で自動インストールされる。

## 基本的な使い方

```bash
# 未読の通知を一覧表示
gh notify

# すべての通知をプレビュー付きで表示
gh notify -a -w

# 特定リポジトリの通知のみ表示
gh notify -f "repo-name"

# 参加/メンションされた通知のみ表示
gh notify -p
```

## 主要オプション

| フラグ | 説明 |
|--------|------|
| (なし) | 未読の通知をすべて表示 |
| `-a` | 既読・未読を問わずすべての通知を表示 |
| `-e REGEX` | 正規表現にマッチする通知を除外 |
| `-f REGEX` | 正規表現にマッチする通知のみ表示 |
| `-n NUM` | 表示する通知の最大件数を指定 |
| `-p` | 参加またはメンションされた通知のみ表示 |
| `-r` | すべての通知を既読にする |
| `-s` | 静的な一覧を表示（fzfを使わない） |
| `-u URL` | 指定したURLのissue/PRを購読または購読解除 |
| `-w` | fzfモードでプレビューウィンドウを表示 |

## キーバインド（fzfモード）

| キー | 操作 |
|------|------|
| `?` | ヘルプの表示/非表示を切り替え |
| `Enter` | 通知をlessで表示 |
| `Tab` | 通知プレビューの表示/非表示を切り替え |
| `Shift+↑↓` | プレビューを上下にスクロール |
| `Ctrl-A` | 表示中のすべての通知を既読にしてリロード |
| `Ctrl-B` | ブラウザで開く |
| `Ctrl-D` | diffを表示 |
| `Ctrl-P` | diffをパッチ形式で表示 |
| `Ctrl-R` | リロード |
| `Ctrl-T` | 選択した通知を既読にしてリロード |
| `Ctrl-X` | エディタでコメントを書いて終了 |
| `Ctrl-Y` | 選択した通知のトグル |
| `Esc` | 終了 |

## ユースケース

### 未読通知を素早く確認する

```bash
gh notify -w
```

プレビューウィンドウ付きで未読通知を一覧表示し、fzfで絞り込みながら内容を確認できる。

### すべての通知を既読にする

```bash
gh notify -r
```

溜まった通知を一括で既読にする。

### 正規表現で通知を絞り込む

```bash
# "dependabot"を含む通知を除外して表示
gh notify -e "dependabot"

# 複数のリポジトリにマッチする通知だけ表示
gh notify -f "frontend|backend"
```

`-f`で表示対象を絞り込み、`-e`で不要な通知を除外できる。どちらも正規表現が使える。

### 参加・メンションされた通知だけ確認する

```bash
gh notify -p -w
```

自分が直接関わっている通知だけをプレビュー付きで表示する。ノイズを減らして重要な通知に集中できる。

### issue/PRを購読する

```bash
gh notify -u "https://github.com/owner/repo/issues/123"
```

気になるissueやPRのURLを指定して購読できる。同じコマンドを再度実行すると購読解除になる。

## 参考リンク

- [GitHub - meiji163/gh-notify](https://github.com/meiji163/gh-notify)
